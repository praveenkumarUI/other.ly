<!--
  Generated template for the HomeFeedPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-content padding>

	<ion-row class="post" ion-fixed>

    
      <ion-col col-3 class="user-info" *ngIf="UserData.picture != ''">
        <img  src="{{ UserData.picture }}" />
      </ion-col>
      <ion-col col-3 class="user-info" *ngIf="UserData.picture == ''">
          <img  src="assets/img/avatar_small.png" />
      </ion-col>

      <ion-col col-9 >
        <ion-col col-12 class="user-infos" *ngIf="UserData">{{ UserData.first_name }} {{ UserData.last_name }}</ion-col>
          <ion-col col-12 class="post-text">
            
              <textarea [(ngModel)]="post_text" placeholder="Post something here..." >
              </textarea>
           
          </ion-col>
      </ion-col>
    
    
      <ion-col col-6 class="share-button" >
        <button icon-left >
          <ion-icon name="share"></ion-icon>
        </button>
      </ion-col>
      <ion-col col-6 class="post-buttom" >
        
        <button end (click)="createPost()">Post</button>
     
      </ion-col>
    

    
  </ion-row>


  <ion-list class="ion-cards"  *ngIf="quantity != 0 && !add_friends">

    <!-- LOOP WITH THE FRIENDS LIST -->
    
    <ion-card *ngFor="let feed of Feeds" >

      <ion-row >

        <ion-col class="user-picture" col-2 >
          <img *ngIf="feed.post.creator.photo_url == '' || feed.post.creator.photo_url == undefined" src="assets/img/avatar_small.png" />
          <img *ngIf="feed.post.creator.photo_url != undefined"  src='{{feed.post.creator.photo_url}}' />
        </ion-col>
        
        <ion-col col-9>
          <ion-card-header text-wrap>
            {{feed.post.subject}}
          </ion-card-header>

          <ion-card-content text-wrap>
            {{feed.post.text}}
          </ion-card-content>
        </ion-col>

        <ion-col col-1>
          <ion-icon name="flag"></ion-icon>
        </ion-col>

       
      </ion-row>
      <ion-row>
        <ion-col col-5>
          <button (click)="SharePrompt({post:feed})" ion-button icon-left clear small>
            <ion-icon name="share"></ion-icon>
          
          </button>
        </ion-col>

        <ion-col col-7>
          <button (click)="ReplyPrompt({code:feed.post.code, text:feed.post.text})" ion-button icon-left clear small>
            <ion-icon name="clipboard"></ion-icon>
          
          </button>

          <button ion-button icon-center clear small (click)="OpenPost({code:feed.post.code})">
            <ion-icon name="people"></ion-icon>
          
          </button>

          <button ion-button icon-right clear small>
            <ion-icon name="redo"></ion-icon>
          </button>
        </ion-col>
      </ion-row>

        
    </ion-card>

    
    <!-- END OF LOOP -->
  </ion-list>

</ion-content>
